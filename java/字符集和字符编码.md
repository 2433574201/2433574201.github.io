# 字符集和字符编码

# 1.基础知识

计算机信息用二进制存储，按照何种规则标识‘a'即为**编码**，相反为**解码**。

**字符集（Charset）**：是一个系统支持的所有抽象字符的集合。字符是各种文字和符号的总称，包括各国家文字、标点符号、图形符号、数字等。

**字符编码**（Character Encoding）：是一套法则，使用该法则能够对自然语言的字符的一个集合（如字母表或音节表），与其他东西的一个集合（如号码或电脉冲）进行配对。即在符号集合与数字系统之间建立对应关系，它是信息处理的一项基本技术。通常人们用符号集合（一般情况下就是文字）来表达信息。而以计算机为基础的信息处理系统则是利用元件（硬件）不同状态的组合来存储和处理信息的。元件不同状态的组合能代表数字系统的数字，因此字符编码就是将符号转换为计算机可以接受的数字系统的数，称为数字代码。

“字符集”是一种形象表意的工具，“字符编码”是表示字符的一种方式。

# 2.字符编码的四个步骤

 - 1.要有一个字符库，确定这些字符足够表意。 比如ASCII字符集，已经足够表示英语，但不能表示中文，于是产生GB2312字符集。
 - 2.第一层编码，给每个字符编个数字，英文叫Code Point 或 Code Position。比如ASCII字符集中，65表示“A”，97表示“a”。
 - 3.第二层编码，确定表示字符的二进制位数（8位，16位，32位）。ASCII使用7位，DBCS（双字节字符集）使用16位。
 - 4.第三层编码，确定字符二进制值的存储格式（大端法，小端法）。比如X86机器使用小端法。

# 3.常用计算机编码

# 3.1.ASCII码

英语标准，用7位编码，第八位用作奇偶校验；

其他字符集：GB系列，ISO等；

# 3.2.Unicode

全球通用的字符集。
1.第一层编码：0x0——0x10FFFF,
2.第二层编码：数值的实现方式：utf-8.utf-16,utf-32；

不要被第一层编码混淆，一个字符编码需要的位数由编码方式决定，也就是使用utf-8还是其他的方式编码。

# 3.3.UTF-8

使用8bit为单位，对unicode进行编码，特点是：对不同范围的字符使用不同长度的编码；
![enter description here](./images/TIM截图20190315184733.png)

4个字节以内，包含了unicode的所有的字符。

**UTF-8有两个好处：**
1. 1字节字符、2字节字符、3字节字符……的首字节标志位不同，这样可以很清楚的区分一个字节属于1字节字符还是2字节字符，如果一个字节流传输中出现错误，也不会错位，只影响部分字符，根据标志位，很容易找到下个正确字符。

2. 兼容ASCII码，英美字符用UTF-8可以一个字节表示，所以，www组织选用UTF-8作为推荐编码格式。2007年，在互联网上，UTF-8格式已经超过了ASCII码。

# 3.4.UTF-16

以2bytes为单位，等同于UCS-2
![enter description here](./images/TIM截图20190315185816.png)

# 3.5.UTF-32

UTF-32编码以4字节为单位。直接把Unicode值转为4字节二进制数就是其UTF-32编码。等同于UCS-4.

